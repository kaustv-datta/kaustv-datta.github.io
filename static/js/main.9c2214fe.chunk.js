(this["webpackJsonplessonup-assignment"]=this["webpackJsonplessonup-assignment"]||[]).push([[0],{25:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},38:function(e,n){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(3),r=t(5),i=t.n(r),c=t(19),u=t.n(c),l=(t(25),t(1)),o=t(6),s=t(7),d=t(43),p=t(14),f=t.n(p),g=(t(28),i.a.memo((function(e){var n=e.number,t=e.identifier,r=e.onCellClick,i=e.cellState;return Object(a.jsx)("button",{type:"button",className:"box ".concat(i),identifier:t,onClick:function(){r(t)},children:n})})));g.propTypes={number:f.a.number.isRequired,identifier:f.a.string.isRequired,onCellClick:f.a.func.isRequired,cellState:f.a.string},g.defaultProps={cellState:"normal"};var b=g;t(29);var h=function(){return Object(a.jsx)("div",{className:"wall",children:"\xa0"})},j=function(e){var n=Math.round(Math.sqrt(e));return n*n===e},m=function(e){return j(5*e*e+4)||j(5*e*e-4)},y=function(e,n){return!(n<e)&&(e===n?1===e:0===e&&1===n||(1===e&&2===n||Math.abs(n-e)<Math.min(e,n)))},O=function(e){for(var n=[],t=[],a=[],r=0;r<e.length;r+=1){var i=e.length-1-r,c=e[r],u=e[i];c!==-1/0&&(m(c)?0===t.length?t.push(r):y(e[t[t.length-1]],c)?t.length>=2&&1===c&&1===e[t[t.length-1]]&&1===e[t[t.length-2]]?t=[t[t.length-1],r]:t.push(r):t.length>=5?(n.push(Object(l.a)(t)),t=[r]):t=[r]:t.length>=5?(n.push(Object(l.a)(t)),t=[]):t=[]),u!==-1/0&&(m(u)?0===a.length?a.push(i):y(e[a[a.length-1]],u)?a.length>=2&&1===u&&1===e[a[a.length-1]]&&1===e[a[a.length-2]]?a=[a[a.length-1],i]:a.push(i):a.length>=5?(n.push(Object(l.a)(a)),a=[i]):a=[i]:a.length>=5?(n.push(Object(l.a)(a)),a=[]):a=[])}return t.lenght>=5&&n.push(t),a.lenght>=5&&n.push(a),n};t(30);function v(e){return{board:e,isActive:!0,userClicks:0,updatingRow:-1,updatingColumn:-1,clearingCells:[]}}function C(e,n){switch(n.type){case"update_board":return Object(s.a)(Object(s.a)({},e),{},{board:n.payload,isActive:!0,updatingRow:-1,updatingColumn:-1,clearingCells:[]});case"update_board_and_clicks":return Object(s.a)(Object(s.a)({},e),n.payload);case"updating_cells":return Object(s.a)(Object(s.a)({},e),{},{updatingRow:n.payload.updatingRow,updatingColumn:n.payload.updatingColumn,isActive:!1});case"clearing_cells":return Object(s.a)(Object(s.a)({},e),{},{clearingCells:n.payload});case"reset":return v(n.payload);default:throw new Error}}function k(e){var n=e.dim,t=d.g(n,n),i=Object(r.useReducer)(C,t,v),c=Object(o.a)(i,2),u=c[0],s=c[1];Object(r.useEffect)((function(){for(var e=d.b(u.board),t=[],a=function(n){for(var a=d.e(u.board,n).toArray()[0],r=d.c(u.board,n).toArray().map((function(e){return e[0]})),i=O(a),c=O(r),l=0;l<i.length;l+=1){var o=i[l];o.forEach((function(e){t.push([n,e].join())})),e=d.f(e,d.d(n,o),new Array(o.length).fill(-1/0))}for(var s=0;s<c.length;s+=1){var p=c[s];p.forEach((function(e){t.push([e,n].join())})),e=d.f(e,d.d(p,n),new Array(p.length).fill(-1/0))}},r=0;r<n;r+=1)a(r);s({type:"clearing_cells",payload:t}),setTimeout((function(){s({type:"update_board",payload:e})}),300)}),[u.userClicks]);var p=function(e){if(u.isActive){var t=e.split(",").map(Number),a=Object(o.a)(t,2),r=a[0],i=a[1],c=u.board.subset(d.d(r,i)),p=d.f(u.board,d.d(r,Object(l.a)(Array(n).keys())),d.a(d.f(u.board,d.d(r,Object(l.a)(Array(n).keys()))),1));p=d.f(p,d.d(Object(l.a)(Array(n).keys()),i),d.a(d.f(p,d.d(Object(l.a)(Array(n).keys()),i)),1)),s({type:"updating_cells",payload:{updatingRow:r,updatingColumn:i}}),setTimeout((function(){s({type:"update_board_and_clicks",payload:{board:d.f(p,d.d(r,i),c+1),userClicks:u.userClicks+1,isActive:!1}})}),300)}};return Object(a.jsx)("div",{className:"game-board",children:function(e){var n=[];return e.forEach((function(e,t){if(e===-1/0)n.push(Object(a.jsx)(h,{},t.join(",")));else{var r=t[0],i=t[1],c="normal";u.clearingCells.includes(t.join(","))?c="clearing":r!==u.updatingRow&&i!==u.updatingColumn||(c="updating"),n.push(Object(a.jsx)(b,{number:e,identifier:t.join(","),onCellClick:p,cellState:c},t.join(",")))}})),n}(u.board)})}k.defaultProps={dim:50};var w=k;t(39);var A=function(){return Object(a.jsx)(w,{dim:50})},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};u.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),_()}},[[40,1,2]]]);
//# sourceMappingURL=main.9c2214fe.chunk.js.map