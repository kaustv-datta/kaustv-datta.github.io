(this["webpackJsonplessonup-assignment"]=this["webpackJsonplessonup-assignment"]||[]).push([[0],{25:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},38:function(e,t){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(5),i=n.n(r),c=n(19),u=n.n(c),l=(n(25),n(1)),o=n(6),s=n(7),d=n(43),p=n(14),f=n.n(p),g=(n(28),i.a.memo((function(e){var t=e.number,n=e.identifier,r=e.onCellClick,i=e.cellState;return Object(a.jsx)("button",{type:"button",className:"box ".concat(i),identifier:n,onClick:function(){r(n)},children:t})})));g.propTypes={number:f.a.number.isRequired,identifier:f.a.string.isRequired,onCellClick:f.a.func.isRequired,cellState:f.a.string},g.defaultProps={cellState:"normal"};var b=g;n(29);var h=function(){return Object(a.jsx)("div",{className:"wall"})},j=function(e){var t=Math.round(Math.sqrt(e));return t*t===e},m=function(e){return j(5*e*e+4)||j(5*e*e-4)},y=function(e,t){return!(t<e)&&(e===t?1===e:0===e&&1===t||(1===e&&2===t||Math.abs(t-e)<Math.min(e,t)))},O=function(e){for(var t=[],n=[],a=[],r=0;r<e.length;r+=1){var i=e.length-1-r,c=e[r],u=e[i];c!==-1/0&&(m(c)?0===n.length?n.push(r):y(e[n[n.length-1]],c)?n.length>=2&&1===c&&1===e[n[n.length-1]]&&1===e[n[n.length-2]]?n=[n[n.length-1],r]:n.push(r):n.length>=5?(t.push(Object(l.a)(n)),n=[r]):n=[r]:n.length>=5?(t.push(Object(l.a)(n)),n=[]):n=[]),u!==-1/0&&(m(u)?0===a.length?a.push(i):y(e[a[a.length-1]],u)?a.length>=2&&1===u&&1===e[a[a.length-1]]&&1===e[a[a.length-2]]?a=[a[a.length-1],i]:a.push(i):a.length>=5?(t.push(Object(l.a)(a)),a=[i]):a=[i]:a.length>=5?(t.push(Object(l.a)(a)),a=[]):a=[])}return n.lenght>=5&&t.push(n),a.lenght>=5&&t.push(a),t};n(30);function v(e){return{board:e,isActive:!0,userClicks:0,updatingRow:-1,updatingColumn:-1,clearingCells:[]}}function C(e,t){switch(t.type){case"update_board":return Object(s.a)(Object(s.a)({},e),{},{board:t.payload,isActive:!0,updatingRow:-1,updatingColumn:-1,clearingCells:[]});case"update_board_and_clicks":return Object(s.a)(Object(s.a)({},e),t.payload);case"updating_cells":return Object(s.a)(Object(s.a)({},e),{},{updatingRow:t.payload.updatingRow,updatingColumn:t.payload.updatingColumn,isActive:!1});case"clearing_cells":return Object(s.a)(Object(s.a)({},e),{},{clearingCells:t.payload});case"reset":return v(t.payload);default:throw new Error}}function k(e){var t=e.dim,n=d.g(t,t),i=Object(r.useReducer)(C,n,v),c=Object(o.a)(i,2),u=c[0],s=c[1];Object(r.useEffect)((function(){for(var e=d.b(u.board),n=[],a=function(t){for(var a=d.e(u.board,t).toArray()[0],r=d.c(u.board,t).toArray().map((function(e){return e[0]})),i=O(a),c=O(r),l=0;l<i.length;l+=1){var o=i[l];o.forEach((function(e){n.push([t,e].join())})),e=d.f(e,d.d(t,o),new Array(o.length).fill(-1/0))}for(var s=0;s<c.length;s+=1){var p=c[s];p.forEach((function(e){n.push([e,t].join())})),e=d.f(e,d.d(p,t),new Array(p.length).fill(-1/0))}},r=0;r<t;r+=1)a(r);s({type:"clearing_cells",payload:n}),setTimeout((function(){s({type:"update_board",payload:e})}),300)}),[u.userClicks]);var p=function(e){if(u.isActive){var n=e.split(",").map(Number),a=Object(o.a)(n,2),r=a[0],i=a[1],c=u.board.subset(d.d(r,i)),p=d.f(u.board,d.d(r,Object(l.a)(Array(t).keys())),d.a(d.f(u.board,d.d(r,Object(l.a)(Array(t).keys()))),1));p=d.f(p,d.d(Object(l.a)(Array(t).keys()),i),d.a(d.f(p,d.d(Object(l.a)(Array(t).keys()),i)),1)),s({type:"updating_cells",payload:{updatingRow:r,updatingColumn:i}}),setTimeout((function(){s({type:"update_board_and_clicks",payload:{board:d.f(p,d.d(r,i),c+1),userClicks:u.userClicks+1,isActive:!1}})}),300)}};return Object(a.jsx)("div",{className:"game-board",children:function(e){var t=[];return e.forEach((function(e,n){if(e===-1/0)t.push(Object(a.jsx)(h,{},n.join(",")));else{var r=n[0],i=n[1],c="normal";u.clearingCells.includes(n.join(","))?c="clearing":r!==u.updatingRow&&i!==u.updatingColumn||(c="updating"),t.push(Object(a.jsx)(b,{number:e,identifier:n.join(","),onCellClick:p,cellState:c},n.join(",")))}})),t}(u.board)})}k.defaultProps={dim:50};var w=k;n(39);var A=function(){return Object(a.jsx)(w,{dim:50})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};u.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),_()}},[[40,1,2]]]);
//# sourceMappingURL=main.a69546df.chunk.js.map